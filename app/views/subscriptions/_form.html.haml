= semantic_form_for @application, :html => { class: 'form-horizontal', multipart: true } do |f|
  = f.semantic_errors

  = f.inputs do
    = f.input :confirmed, as: :hidden
    = f.input :event_id, as: :hidden
    = f.input :event_name, as: :xx_large_string, input_html: { readonly: true }, required: false
    = f.input :name, as: :xx_large_string
    = f.input :id_card
    - if @application.new_record?
      = f.input :email, as: :x_large_string
      = f.input :email_confirmation, as: :x_large_string
    = f.input :password unless @application.user
    = f.input :password_confirmation unless @application.user

    - last_group = ''
    = f.semantic_fields_for :field_fills do |ff|
      - group = ff.object.field.group_name
      - if group != last_group
        %h2= group
        - last_group = group
      = ff.input :field_id, as: :hidden, label: false
      = ff.input :type, as: :hidden, label: false
      = input_fill ff

  = f.actions do
    = f.action :submit, label: t(:subscribe), button_html: { class: 'btn btn-primary' }
